<main class="container">
  <h2>üñáÔ∏è Tela Inicial</h2>
  <p>Bem-vindo! Aqui est√£o suas √∫ltimas atividades:</p>
  <ul id="ultimas-atividades">
    <!-- JS vai preencher aqui -->
  </ul>
</main>

<script>
  const apiCompraVenda = 'http://localhost:8000/api/compras-vendas/';

  async function carregarUltimasAtividades() {
    try {
      const response = await fetch(apiCompraVenda);
      const operacoes = await response.json();

      const ul = document.getElementById('ultimas-atividades');
      ul.innerHTML = '';

      // Pegando s√≥ as 5 √∫ltimas opera√ß√µes
      operacoes.slice(-5).reverse().forEach(op => {
        const li = document.createElement('li');
        li.textContent = `A√ß√£o ${op.acao} - ${op.tipo} de ${op.quantidade} unidades em ${new Date(op.data).toLocaleDateString()}`;
        ul.appendChild(li);
      });
    } catch (error) {
      console.error('Erro ao carregar √∫ltimas atividades:', error);
    }
  }

  window.onload = carregarUltimasAtividades;
</script>
